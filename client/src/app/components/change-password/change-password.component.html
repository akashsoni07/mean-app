<div class="row">
  <div class="col-md-6 m-auto">
    <h1 class="text-center">Change Password</h1>
    <p class="text-center">Change your MEAN App account password here.</p>
    <hr />
    <form *ngIf="!success"
      [formGroup]="changePasswordForm"
      (ngSubmit)="changePasswordForm.valid && onSubmit()"
    >
      <div class="form-group">
        <label>Old Password</label>
        <input
          type="password"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              changePasswordForm.get('oldPassword')!.touched &&
              changePasswordForm.get('oldPassword')!.invalid
          }"
          formControlName="oldPassword"
        />
        <span class="invalid-feedback"
          *ngIf="changePasswordForm.get('oldPassword')!.hasError('required')"
          >Password is required.</span
        >
      </div>
      <div class="form-group">
        <label>New Password</label>
        <input
          type="password"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              changePasswordForm.get('newPassword')!.touched &&
              changePasswordForm.get('newPassword')!.invalid
          }"
          formControlName="newPassword"
        />
        <span class="invalid-feedback">
          <span *ngIf="changePasswordForm.get('newPassword')!.hasError('required')"
            >Password is required.</span
          >
          <span *ngIf="changePasswordForm.get('newPassword')!.hasError('minlength')"
            >Password must have
            {{ changePasswordForm.get("newPassword")!.errors!.minlength!.requiredLength }}
            characters.
          </span>
        </span>
      </div>
      <div class="form-group">
        <label>Confirm New Password</label>
        <input
          type="password"
          class="form-control"
          [ngClass]="{
            'is-invalid':
              changePasswordForm.get('confirmNewPassword')!.touched &&
              changePasswordForm.get('confirmNewPassword')!.invalid
          }"
          formControlName="confirmNewPassword"
        />
        <span class="invalid-feedback">Passwords must match.</span>
      </div>
      <button
        [disabled]="changePasswordForm.invalid"
        class="btn btn-sm btn-block btn-info"
      >
        Submit
      </button>
    </form>
    <div *ngIf="success" class="alert alert-success mt-5" role="alert">
      <h4 class="alert-heading">Success!</h4>
      <p>Your MEAN App account password has been changed successfully.</p>
    </div>
  </div>
</div>
