<div class="row">
  <div class="col-md-6 m-auto">
    <h1 class="text-center">Sign up</h1>
    <p class="text-center">Please create your MEAN App account here.</p>
    <div *ngIf="!success">
      <hr />
      <form [formGroup]="signupForm" (ngSubmit)="signupForm.valid && signup()">
        <div class="form-group">
          <label>First Name</label>
          <input
            type="text"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                signupForm.get('firstName')!.touched &&
                signupForm.get('firstName')!.invalid
            }"
            formControlName="firstName"
          />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('firstName')!.hasError('required')"
              >First Name is required.</span
            >
            <span
              *ngIf="
                signupForm.get('firstName')!.hasError('minlength')"
              >First Name must have atleast
              {{
                signupForm.get("firstName")!.errors!.minlength!.requiredLength
              }}
              characters.</span
            >
          </span>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input
            type="text"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                signupForm.get('lastName')!.touched &&
                signupForm.get('lastName')!.invalid
            }"
            formControlName="lastName"
          />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('lastName')!.hasError('required')"
              >Last Name is required.</span
            >
            <span
              *ngIf="
                signupForm.get('lastName')!.hasError('minlength')"
              >Last Name must have
              {{
                signupForm.get("lastName")!.errors!.minlength!.requiredLength
              }}
              characters.</span
            >
          </span>
        </div>
        <div class="form-group">
          <label>Email</label>
          <input
            type="email"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                signupForm.get('email')!.touched &&
                signupForm.get('email')!.invalid
            }"
            formControlName="email"
          />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('email')!.hasError('required')"
              >Email is required.</span
            >
            <span *ngIf="signupForm.get('email')!.hasError('email')"
              >Email is invalid.</span
            >
          </span>
        </div>
        <div class="form-group">
          <label>Password</label>
          <input
            type="password"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                signupForm.get('password')!.touched &&
                signupForm.get('password')!.invalid
            }"
            formControlName="password"
          />
          <span class="invalid-feedback">
            <span *ngIf="signupForm.get('password')!.hasError('required')"
              >Password is required.</span
            >
            <span
              *ngIf="
                signupForm.get('password')!.hasError('minlength')"
              >Password must have atleast
              {{
                signupForm.get("password")!.errors!.minlength!.requiredLength
              }}
             characters.
            </span>
          </span>
        </div>
        <div class="form-group">
          <label>Confirm Password</label>
          <input
            type="password"
            class="form-control"
            [ngClass]="{
              'is-invalid':
                signupForm.get('confirmPassword')!.touched &&
                signupForm.get('confirmPassword')!.invalid
            }"
            formControlName="confirmPassword"
          />
          <span class="invalid-feedback">Passwords must match.</span>
        </div>
        <button
          [disabled]="signupForm.invalid"
          class="btn btn-sm btn-block btn-info mt-2"
        >
          Sign up
        </button>
      </form>
      <br />
      <p class="text-center">
        Already have an account? <a routerLink="/login">Log in</a>
      </p>
    </div>
    <div *ngIf="success" class="alert alert-success mt-5" role="alert">
      <h4 class="alert-heading">Success!</h4>
      <p>
        Please check your email inbox or spam folder and click on the given link to activate your
        MEAN App account.
      </p>
    </div>
  </div>
</div>
